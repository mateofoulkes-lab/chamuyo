<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Test conexión GitHub Pages → InfinityFree</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #111;
      color: #eee;
      padding: 2rem;
    }
    pre {
      background: #222;
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
    }
    .ok { color: #4cff88; }
    .err { color: #ff5c5c; }
  </style>
</head>
<body>

<h1>Test conexión API</h1>
<button id="btn">Probar conexión</button>

<pre id="out">Esperando…</pre>

<script>
const API_URL = "https://TU-SITIO.infinityfreeapp.com/test_api.php";

const out = document.getElementById("out");
const btn = document.getElementById("btn");

btn.onclick = async () => {
  out.textContent = "Conectando…";

  try {
    const res = await fetch(API_URL, {
      method: "GET",
    });

    out.textContent =
      "HTTP STATUS: " + res.status + "\n\n";

    const text = await res.text();
    out.textContent += text;

    out.className = "ok";
  } catch (err) {
    out.textContent =
      "ERROR DE FETCH\n\n" +
      err.name + "\n" +
      err.message;

    out.className = "err";
  }
};
</script>

</body>
</html>
